

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Augmentation &mdash; TorchIO 0.17.14 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Others" href="others.html" />
    <link rel="prev" title="Preprocessing" href="preprocessing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> TorchIO
          

          
          </a>

          
            
            
              <div class="version">
                0.17.14
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data/dataset.html">Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data/patch_based.html">Patch-based pipelines</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="transforms.html">Transforms</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="transforms.html#interpolation">Interpolation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="transforms.html#transforms-api">Transforms API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="preprocessing.html">Preprocessing</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Augmentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="others.html">Others</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">Medical image datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command-line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slicer.html">3D Slicer GUI</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TorchIO</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="transforms.html">Transforms</a> &raquo;</li>
        
      <li>Augmentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/transforms/augmentation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

           <div itemprop="articleBody">
            
  <div class="section" id="augmentation">
<h1>Augmentation<a class="headerlink" href="#augmentation" title="Permalink to this headline">¶</a></h1>
<p>Augmentation transforms generate different results every time they are called.
The result can be made deterministic using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">seed</span></code> parameter.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#base-class" id="id3">Base class</a></p>
<ul>
<li><p><a class="reference internal" href="#randomtransform" id="id4"><a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#composition" id="id5">Composition</a></p>
<ul>
<li><p><a class="reference internal" href="#compose" id="id6"><a class="reference internal" href="#torchio.transforms.Compose" title="torchio.transforms.Compose"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compose</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#oneof" id="id7"><a class="reference internal" href="#torchio.transforms.OneOf" title="torchio.transforms.OneOf"><code class="xref py py-class docutils literal notranslate"><span class="pre">OneOf</span></code></a></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#spatial" id="id8">Spatial</a></p>
<ul>
<li><p><a class="reference internal" href="#randomflip" id="id9"><a class="reference internal" href="#torchio.transforms.RandomFlip" title="torchio.transforms.RandomFlip"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomFlip</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#randomaffine" id="id10"><a class="reference internal" href="#torchio.transforms.RandomAffine" title="torchio.transforms.RandomAffine"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomAffine</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#randomelasticdeformation" id="id11"><a class="reference internal" href="#torchio.transforms.RandomElasticDeformation" title="torchio.transforms.RandomElasticDeformation"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomElasticDeformation</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#randomdownsample" id="id12"><a class="reference internal" href="#torchio.transforms.RandomDownsample" title="torchio.transforms.RandomDownsample"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomDownsample</span></code></a></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#intensity" id="id13">Intensity</a></p>
<ul>
<li><p><a class="reference internal" href="#randommotion" id="id14"><a class="reference internal" href="#torchio.transforms.RandomMotion" title="torchio.transforms.RandomMotion"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomMotion</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#randomghosting" id="id15"><a class="reference internal" href="#torchio.transforms.RandomGhosting" title="torchio.transforms.RandomGhosting"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomGhosting</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#randomspike" id="id16"><a class="reference internal" href="#torchio.transforms.RandomSpike" title="torchio.transforms.RandomSpike"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomSpike</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#randombiasfield" id="id17"><a class="reference internal" href="#torchio.transforms.RandomBiasField" title="torchio.transforms.RandomBiasField"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomBiasField</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#randomblur" id="id18"><a class="reference internal" href="#torchio.transforms.RandomBlur" title="torchio.transforms.RandomBlur"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomBlur</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#randomnoise" id="id19"><a class="reference internal" href="#torchio.transforms.RandomNoise" title="torchio.transforms.RandomNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomNoise</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#randomswap" id="id20"><a class="reference internal" href="#torchio.transforms.RandomSwap" title="torchio.transforms.RandomSwap"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomSwap</span></code></a></a></p></li>
<li><p><a class="reference internal" href="#randomlabelstoimage" id="id21"><a class="reference internal" href="#torchio.transforms.RandomLabelsToImage" title="torchio.transforms.RandomLabelsToImage"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomLabelsToImage</span></code></a></a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="base-class">
<h2><a class="toc-backref" href="#id3">Base class</a><a class="headerlink" href="#base-class" title="Permalink to this headline">¶</a></h2>
<div class="section" id="randomtransform">
<h3><a class="toc-backref" href="#id4"><a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a></a><a class="headerlink" href="#randomtransform" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="torchio.transforms.augmentation.RandomTransform">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.augmentation.</code><code class="sig-name descname">RandomTransform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/random_transform.html#RandomTransform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.augmentation.RandomTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.transform.Transform</span></code></p>
<p>Base class for stochastic augmentation transforms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – Seed for <code class="xref py py-mod docutils literal notranslate"><span class="pre">torch</span></code> random number generator.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="composition">
<h2><a class="toc-backref" href="#id5">Composition</a><a class="headerlink" href="#composition" title="Permalink to this headline">¶</a></h2>
<div class="section" id="compose">
<h3><a class="toc-backref" href="#id6"><a class="reference internal" href="#torchio.transforms.Compose" title="torchio.transforms.Compose"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compose</span></code></a></a><a class="headerlink" href="#compose" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="torchio.transforms.Compose">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">Compose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">transforms</span><span class="p">:</span> <span class="n">Sequence<span class="p">[</span>torchio.transforms.transform.Transform<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/composition.html#Compose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.Compose" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.transform.Transform</span></code></p>
<p>Compose several transforms together.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transforms</strong> – Sequence of instances of
<code class="xref py py-class docutils literal notranslate"><span class="pre">Transform</span></code>.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a thin wrapper of <a class="reference external" href="https://pytorch.org/docs/master/torchvision/transforms.html#torchvision.transforms.Compose" title="(in PyTorch vmaster (1.7.0a0+b87f0e5 ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torchvision.transforms.Compose</span></code></a>.</p>
</div>
</dd></dl>

</div>
<div class="section" id="oneof">
<h3><a class="toc-backref" href="#id7"><a class="reference internal" href="#torchio.transforms.OneOf" title="torchio.transforms.OneOf"><code class="xref py py-class docutils literal notranslate"><span class="pre">OneOf</span></code></a></a><a class="headerlink" href="#oneof" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="torchio.transforms.OneOf">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">OneOf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">transforms</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a><span class="p">, </span>Sequence<span class="p">[</span>torchio.transforms.transform.Transform<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/composition.html#OneOf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.OneOf" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Apply only one of the given transforms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transforms</strong> – Dictionary with instances of
<code class="xref py py-class docutils literal notranslate"><span class="pre">Transform</span></code> as keys and
probabilities as values. Probabilities are normalized so they sum
to one. If a sequence is given, the same probability will be
assigned to each transform.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">torchio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ixi</span> <span class="o">=</span> <span class="n">torchio</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ixi</span><span class="o">.</span><span class="n">IXITiny</span><span class="p">(</span><span class="s1">&#39;ixi&#39;</span><span class="p">,</span> <span class="n">download</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span> <span class="o">=</span> <span class="n">ixi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transforms_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="n">torchio</span><span class="o">.</span><span class="n">transforms</span><span class="o">.</span><span class="n">RandomAffine</span><span class="p">():</span> <span class="mf">0.75</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">torchio</span><span class="o">.</span><span class="n">transforms</span><span class="o">.</span><span class="n">RandomElasticDeformation</span><span class="p">():</span> <span class="mf">0.25</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>  <span class="c1"># Using 3 and 1 as probabilities would have the same effect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform</span> <span class="o">=</span> <span class="n">torchio</span><span class="o">.</span><span class="n">transforms</span><span class="o">.</span><span class="n">OneOf</span><span class="p">(</span><span class="n">transforms_dict</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="spatial">
<h2><a class="toc-backref" href="#id8">Spatial</a><a class="headerlink" href="#spatial" title="Permalink to this headline">¶</a></h2>
<div class="section" id="randomflip">
<h3><a class="toc-backref" href="#id9"><a class="reference internal" href="#torchio.transforms.RandomFlip" title="torchio.transforms.RandomFlip"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomFlip</span></code></a></a><a class="headerlink" href="#randomflip" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="torchio.transforms.RandomFlip">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomFlip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="p">:</span> <span class="n">Union[int, Tuple[int, …]]</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">flip_probability</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/spatial/random_flip.html#RandomFlip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomFlip" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Reverse the order of elements in an image along the given axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> – Axis or tuple of axes along which the image will be flipped.</p></li>
<li><p><strong>flip_probability</strong> – Probability that the image will be flipped. This is
computed on a per-axis basis.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the input image is 2D, all axes should be in <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">1)</span></code>.</p>
</div>
</dd></dl>

</div>
<div class="section" id="randomaffine">
<h3><a class="toc-backref" href="#id10"><a class="reference internal" href="#torchio.transforms.RandomAffine" title="torchio.transforms.RandomAffine"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomAffine</span></code></a></a><a class="headerlink" href="#randomaffine" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="torchio.transforms.RandomAffine">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomAffine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">scales</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.9, 1.1</span></em>, <em class="sig-param"><span class="n">degrees</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">10</span></em>, <em class="sig-param"><span class="n">translation</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">isotropic</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">center</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span> <span class="o">=</span> <span class="default_value">'image'</span></em>, <em class="sig-param"><span class="n">default_pad_value</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'otsu'</span></em>, <em class="sig-param"><span class="n">image_interpolation</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span> <span class="o">=</span> <span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/spatial/random_affine.html#RandomAffine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomAffine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Random affine transformation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scales</strong> – Tuple <span class="math notranslate nohighlight">\((a, b)\)</span> defining the scaling
magnitude. The scaling values along each dimension are
<span class="math notranslate nohighlight">\((s_1, s_2, s_3)\)</span>, where <span class="math notranslate nohighlight">\(s_i \sim \mathcal{U}(a, b)\)</span>.
For example, using <code class="docutils literal notranslate"><span class="pre">scales=(0.5,</span> <span class="pre">0.5)</span></code> will zoom out the image,
making the objects inside look twice as small while preserving
the physical size and position of the image.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(\s_i \sim \mathcal{U}(0, d)\)</span>.</p></li>
<li><p><strong>degrees</strong> – Tuple <span class="math notranslate nohighlight">\((a, b)\)</span> defining the rotation range in degrees.
The rotation angles around each axis are
<span class="math notranslate nohighlight">\((\theta_1, \theta_2, \theta_3)\)</span>,
where <span class="math notranslate nohighlight">\(\theta_i \sim \mathcal{U}(a, b)\)</span>.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(\theta_i \sim \mathcal{U}(-d, d)\)</span>.</p></li>
<li><p><strong>translation</strong> – Tuple <span class="math notranslate nohighlight">\((a, b)\)</span> defining the translation in mm.
Translation along each axis is
<span class="math notranslate nohighlight">\((x_1, x_2, x_3)\)</span>,
where <span class="math notranslate nohighlight">\(x_i \sim \mathcal{U}(a, b)\)</span>.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(x_i \sim \mathcal{U}(-d, d)\)</span>.</p></li>
<li><p><strong>isotropic</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the scaling factor along all dimensions is the
same, i.e. <span class="math notranslate nohighlight">\(s_1 = s_2 = s_3\)</span>.</p></li>
<li><p><strong>center</strong> – If <code class="docutils literal notranslate"><span class="pre">'image'</span></code>, rotations and scaling will be performed around
the image center. If <code class="docutils literal notranslate"><span class="pre">'origin'</span></code>, rotations and scaling will be
performed around the origin in world coordinates.</p></li>
<li><p><strong>default_pad_value</strong> – As the image is rotated, some values near the
borders will be undefined.
If <code class="docutils literal notranslate"><span class="pre">'minimum'</span></code>, the fill value will be the image minimum.
If <code class="docutils literal notranslate"><span class="pre">'mean'</span></code>, the fill value is the mean of the border values.
If <code class="docutils literal notranslate"><span class="pre">'otsu'</span></code>, the fill value is the mean of the values at the
border that lie under an
<a class="reference external" href="https://ieeexplore.ieee.org/document/4310076">Otsu threshold</a>.</p></li>
<li><p><strong>image_interpolation</strong> – See <a class="reference internal" href="transforms.html#interpolation"><span class="std std-ref">Interpolation</span></a>.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">torchio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subject</span> <span class="o">=</span> <span class="n">torchio</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">Colin27</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform</span> <span class="o">=</span> <span class="n">torchio</span><span class="o">.</span><span class="n">RandomAffine</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">scales</span><span class="o">=</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">degrees</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">isotropic</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">default_pad_value</span><span class="o">=</span><span class="s1">&#39;otsu&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">image_interpolation</span><span class="o">=</span><span class="s1">&#39;bspline&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transformed</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">subject</span><span class="p">)</span>
</pre></div>
</div>
<p>From the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ torchio-transform t1.nii.gz RandomAffine --kwargs &quot;degrees=30 default_pad_value=minimum&quot; --seed 42 affine_min.nii.gz
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="randomelasticdeformation">
<h3><a class="toc-backref" href="#id11"><a class="reference internal" href="#torchio.transforms.RandomElasticDeformation" title="torchio.transforms.RandomElasticDeformation"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomElasticDeformation</span></code></a></a><a class="headerlink" href="#randomelasticdeformation" title="Permalink to this headline">¶</a></h3>
<img alt="Random elastic deformation" src="../_images/random_elastic_deformation.gif" />
<dl class="py class">
<dt id="torchio.transforms.RandomElasticDeformation">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomElasticDeformation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_control_points</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">7</span></em>, <em class="sig-param"><span class="n">max_displacement</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">7.5</span></em>, <em class="sig-param"><span class="n">locked_borders</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">image_interpolation</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span> <span class="o">=</span> <span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/spatial/random_elastic_deformation.html#RandomElasticDeformation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomElasticDeformation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Apply dense random elastic deformation.</p>
<p>A random displacement is assigned to a coarse grid of control points around
and inside the image. The displacement at each voxel is interpolated from
the coarse grid using cubic B-splines.</p>
<p>The <a class="reference external" href="https://www.sciencedirect.com/topics/computer-science/deformable-registration">‘Deformable Registration’</a>
topic on ScienceDirect contains useful articles explaining interpolation of
displacement fields using cubic B-splines.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_control_points</strong> – Number of control points along each dimension of
the coarse grid <span class="math notranslate nohighlight">\((n_x, n_y, n_z)\)</span>.
If a single value <span class="math notranslate nohighlight">\(n\)</span> is passed,
then <span class="math notranslate nohighlight">\(n_x = n_y = n_z = n\)</span>.
Smaller numbers generate smoother deformations.
The minimum number of control points is <code class="docutils literal notranslate"><span class="pre">4</span></code> as this transform
uses cubic B-splines to interpolate displacement.</p></li>
<li><p><strong>max_displacement</strong> – Maximum displacement along each dimension at each
control point <span class="math notranslate nohighlight">\((D_x, D_y, D_z)\)</span>.
The displacement along dimension <span class="math notranslate nohighlight">\(i\)</span> at each control point is
<span class="math notranslate nohighlight">\(d_i \sim \mathcal{U}(0, D_i)\)</span>.
If a single value <span class="math notranslate nohighlight">\(D\)</span> is passed,
then <span class="math notranslate nohighlight">\(D_x = D_y = D_z = D\)</span>.
Note that the total maximum displacement would actually be
<span class="math notranslate nohighlight">\(D_{max} = \sqrt{D_x^2 + D_y^2 + D_z^2}\)</span>.</p></li>
<li><p><strong>locked_borders</strong> – If <code class="docutils literal notranslate"><span class="pre">0</span></code>, all displacement vectors are kept.
If <code class="docutils literal notranslate"><span class="pre">1</span></code>, displacement of control points at the
border of the coarse grid will also be set to <code class="docutils literal notranslate"><span class="pre">0</span></code>.
If <code class="docutils literal notranslate"><span class="pre">2</span></code>, displacement of control points at the border of the image
will also be set to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>image_interpolation</strong> – See <a class="reference internal" href="transforms.html#interpolation"><span class="std std-ref">Interpolation</span></a>.
Note that this is the interpolation used to compute voxel
intensities when resampling using the dense displacement field.
The value of the dense displacement at each voxel is always
interpolated with cubic B-splines from the values at the control
points of the coarse grid.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p><a class="reference external" href="https://gist.github.com/fepegar/b723d15de620cd2a3a4dbd71e491b59d">This gist</a>
can also be used to better understand the meaning of the parameters.</p>
<p>This is an example from the
<a class="reference external" href="https://www.slicer.org/wiki/Documentation/4.10/FAQ/Registration#What.27s_the_BSpline_Grid_Size.3F">3D Slicer registration FAQ</a>.</p>
<img alt="B-spline example from 3D Slicer documentation" src="https://www.slicer.org/w/img_auth.php/6/6f/RegLib_BSplineGridModel.png" />
<p>To generate a similar grid of control points with TorchIO,
the transform can be instantiated as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torchio</span> <span class="kn">import</span> <span class="n">RandomElasticDeformation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform</span> <span class="o">=</span> <span class="n">RandomElasticDeformation</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">num_control_points</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>  <span class="c1"># or just 7</span>
<span class="gp">... </span>    <span class="n">locked_borders</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Note that control points outside the image bounds are not showed in the
example image (they would also be red as we set <code class="xref py py-attr docutils literal notranslate"><span class="pre">locked_borders</span></code>
to <code class="docutils literal notranslate"><span class="pre">2</span></code>).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Image folding may occur if the maximum displacement is larger
than half the coarse grid spacing. The grid spacing can be computed
using the image bounds in physical space <a class="footnote-reference brackets" href="#id2" id="id1">1</a> and the number of control
points:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">SimpleITK</span> <span class="k">as</span> <span class="nn">sitk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">sitk</span><span class="o">.</span><span class="n">ReadImage</span><span class="p">(</span><span class="s1">&#39;my_image.nii.gz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span><span class="o">.</span><span class="n">GetSize</span><span class="p">()</span>
<span class="go">(512, 512, 139)  # voxels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span><span class="o">.</span><span class="n">GetSpacing</span><span class="p">()</span>
<span class="go">(0.76, 0.76, 2.50)  # mm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bounds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">GetSize</span><span class="p">())</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">GetSpacing</span><span class="p">())</span>
<span class="go">array([390.0, 390.0, 347.5])  # mm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_control_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_spacing</span> <span class="o">=</span> <span class="n">bounds</span> <span class="o">/</span> <span class="p">(</span><span class="n">num_control_points</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_spacing</span>
<span class="go">array([78.0, 78.0, 86.9])  # mm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">potential_folding</span> <span class="o">=</span> <span class="n">grid_spacing</span> <span class="o">/</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">potential_folding</span>
<span class="go">array([39.0, 39.0, 43.4])  # mm</span>
</pre></div>
</div>
<p>Using a <code class="xref py py-attr docutils literal notranslate"><span class="pre">max_displacement</span></code> larger than the computed
<code class="xref py py-attr docutils literal notranslate"><span class="pre">potential_folding</span></code> will raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeWarning" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeWarning</span></code></a>.</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Technically, <span class="math notranslate nohighlight">\(2 \epsilon\)</span> should be added to the
image bounds, where <span class="math notranslate nohighlight">\(\epsilon = 2^{-3}\)</span> <a class="reference external" href="https://github.com/InsightSoftwareConsortium/ITK/blob/633f84548311600845d54ab2463d3412194690a8/Modules/Core/Transform/include/itkBSplineTransformInitializer.hxx#L116-L138">according to ITK
source code</a>.</p>
</dd>
</dl>
</div>
</dd></dl>

</div>
<div class="section" id="randomdownsample">
<h3><a class="toc-backref" href="#id12"><a class="reference internal" href="#torchio.transforms.RandomDownsample" title="torchio.transforms.RandomDownsample"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomDownsample</span></code></a></a><a class="headerlink" href="#randomdownsample" title="Permalink to this headline">¶</a></h3>
<img alt="Simulation of an image with highly anisotropic spacing" src="https://user-images.githubusercontent.com/12688084/87075276-fe9d9d00-c217-11ea-81a4-db0cac163ce7.png" />
<dl class="py class">
<dt id="torchio.transforms.RandomDownsample">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomDownsample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="p">:</span> <span class="n">Union[int, Tuple[int, …]]</span> <span class="o">=</span> <span class="default_value">0, 1, 2</span></em>, <em class="sig-param"><span class="n">downsampling</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">1.5, 5</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/spatial/random_downsample.html#RandomDownsample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomDownsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Downsample an image along an axis.</p>
<p>This transform simulates an image that has been acquired using anisotropic
spacing, using downsampling with nearest neighbor interpolation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> – Axis or tuple of axes along which the image will be downsampled.</p></li>
<li><p><strong>downsampling</strong> – Downsampling factor <span class="math notranslate nohighlight">\(m \gt 1\)</span>. If a tuple
<span class="math notranslate nohighlight">\((a, b)\)</span> is provided then <span class="math notranslate nohighlight">\(m \sim \mathcal{U}(a, b)\)</span>.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torchio</span> <span class="kn">import</span> <span class="n">RandomDownsample</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torchio.datasets</span> <span class="kn">import</span> <span class="n">Colin27</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform</span> <span class="o">=</span> <span class="n">RandomDownsample</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">downsampling</span><span class="o">=</span><span class="mf">2.</span><span class="p">)</span>   <span class="c1"># Multiply spacing of second axis by 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform</span> <span class="o">=</span> <span class="n">RandomDownsample</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">axes</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">downsampling</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>   <span class="c1"># Multiply spacing of one of the 3 axes by a factor randomly chosen in [2, 5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colin</span> <span class="o">=</span> <span class="n">Colin27</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transformed</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">colin</span><span class="p">)</span>  <span class="c1"># images have now anisotropic spacing</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="intensity">
<h2><a class="toc-backref" href="#id13">Intensity</a><a class="headerlink" href="#intensity" title="Permalink to this headline">¶</a></h2>
<div class="section" id="randommotion">
<h3><a class="toc-backref" href="#id14"><a class="reference internal" href="#torchio.transforms.RandomMotion" title="torchio.transforms.RandomMotion"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomMotion</span></code></a></a><a class="headerlink" href="#randommotion" title="Permalink to this headline">¶</a></h3>
<p>Magnetic resonance images suffer from motion artifacts when the subject moves
during image acquisition. This transform follows
<a class="reference external" href="http://proceedings.mlr.press/v102/shaw19a.html">Shaw et al., 2019</a> to
simulate motion artifacts for data augmentation.</p>
<img alt="MRI k-space motion artifacts" src="../_images/random_motion.gif" />
<dl class="py class">
<dt id="torchio.transforms.RandomMotion">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomMotion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">degrees</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">10</span></em>, <em class="sig-param"><span class="n">translation</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">10</span></em>, <em class="sig-param"><span class="n">num_transforms</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">image_interpolation</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span> <span class="o">=</span> <span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/intensity/random_motion.html#RandomMotion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomMotion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Add random MRI motion artifact.</p>
<p>Custom implementation of <a class="reference external" href="http://proceedings.mlr.press/v102/shaw19a.html">Shaw et al. 2019, MRI k-Space Motion Artefact
Augmentation: Model Robustness and Task-Specific
Uncertainty</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>degrees</strong> – Tuple <span class="math notranslate nohighlight">\((a, b)\)</span> defining the rotation range in degrees of
the simulated movements. The rotation angles around each axis are
<span class="math notranslate nohighlight">\((\theta_1, \theta_2, \theta_3)\)</span>,
where <span class="math notranslate nohighlight">\(\theta_i \sim \mathcal{U}(a, b)\)</span>.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(\theta_i \sim \mathcal{U}(-d, d)\)</span>.
Larger values generate more distorted images.</p></li>
<li><p><strong>translation</strong> – Tuple <span class="math notranslate nohighlight">\((a, b)\)</span> defining the translation in mm of
the simulated movements. The translations along each axis are
<span class="math notranslate nohighlight">\((t_1, t_2, t_3)\)</span>,
where <span class="math notranslate nohighlight">\(t_i \sim \mathcal{U}(a, b)\)</span>.
If only one value <span class="math notranslate nohighlight">\(t\)</span> is provided,
<span class="math notranslate nohighlight">\(t_i \sim \mathcal{U}(-t, t)\)</span>.
Larger values generate more distorted images.</p></li>
<li><p><strong>num_transforms</strong> – Number of simulated movements.
Larger values generate more distorted images.</p></li>
<li><p><strong>image_interpolation</strong> – See <a class="reference internal" href="transforms.html#interpolation"><span class="std std-ref">Interpolation</span></a>.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Large numbers of movements lead to longer execution times for
3D images.</p>
</div>
</dd></dl>

</div>
<div class="section" id="randomghosting">
<h3><a class="toc-backref" href="#id15"><a class="reference internal" href="#torchio.transforms.RandomGhosting" title="torchio.transforms.RandomGhosting"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomGhosting</span></code></a></a><a class="headerlink" href="#randomghosting" title="Permalink to this headline">¶</a></h3>
<p>Discrete “ghost” artifacts may occur along the phase-encode direction whenever
the position or signal intensity of imaged structures within the field-of-view
vary or move in a regular (periodic) fashion.
Pulsatile flow of blood or CSF, cardiac motion, and respiratory motion are the
most important patient-related causes of ghost artifacts in clinical MR imaging
(from <a class="reference external" href="http://mriquestions.com/why-discrete-ghosts.html">mriquestions.com</a>).</p>
<img alt="MRI k-space ghosting artifacts" src="../_images/random_ghosting.gif" />
<dl class="py class">
<dt id="torchio.transforms.RandomGhosting">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomGhosting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_ghosts</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">4, 10</span></em>, <em class="sig-param"><span class="n">axes</span><span class="p">:</span> <span class="n">Union[int, Tuple[int, …]]</span> <span class="o">=</span> <span class="default_value">0, 1, 2</span></em>, <em class="sig-param"><span class="n">intensity</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.5, 1</span></em>, <em class="sig-param"><span class="n">restore</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">0.02</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/intensity/random_ghosting.html#RandomGhosting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomGhosting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Add random MRI ghosting artifact.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_ghosts</strong> – Number of ‘ghosts’ <span class="math notranslate nohighlight">\(n\)</span> in the image.
If <code class="xref py py-attr docutils literal notranslate"><span class="pre">num_ghosts</span></code> is a tuple <span class="math notranslate nohighlight">\((a, b)\)</span>, then
<span class="math notranslate nohighlight">\(n \sim \mathcal{U}(a, b) \cap \mathbb{N}\)</span>.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(\n \sim \mathcal{U}(0, d) \cap \mathbb{N}\)</span>.</p></li>
<li><p><strong>axes</strong> – Axis along which the ghosts will be created. If
<code class="xref py py-attr docutils literal notranslate"><span class="pre">axes</span></code> is a tuple, the axis will be randomly chosen
from the passed values.</p></li>
<li><p><strong>intensity</strong> – Positive number representing the artifact strength
<span class="math notranslate nohighlight">\(s\)</span> with respect to the maximum of the <span class="math notranslate nohighlight">\(k\)</span>-space.
If <code class="docutils literal notranslate"><span class="pre">0</span></code>, the ghosts will not be visible. If a tuple
<span class="math notranslate nohighlight">\((a, b)\)</span> is provided then <span class="math notranslate nohighlight">\(s \sim \mathcal{U}(a, b)\)</span>.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(\s \sim \mathcal{U}(0, d)\)</span>.</p></li>
<li><p><strong>restore</strong> – Number between <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code> indicating how much of the
<span class="math notranslate nohighlight">\(k\)</span>-space center should be restored after removing the planes
that generate the artifact.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The execution time of this transform does not depend on the
number of ghosts.</p>
</div>
</dd></dl>

</div>
<div class="section" id="randomspike">
<h3><a class="toc-backref" href="#id16"><a class="reference internal" href="#torchio.transforms.RandomSpike" title="torchio.transforms.RandomSpike"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomSpike</span></code></a></a><a class="headerlink" href="#randomspike" title="Permalink to this headline">¶</a></h3>
<p>Also known as
<a class="reference external" href="https://radiopaedia.org/articles/herringbone-artifact?lang=gb">Herringbone artifact</a>,
crisscross artifact or corduroy artifact, it creates stripes in different
directions in image space due to spikes in k-space.</p>
<img alt="MRI k-space spike artifacts" src="../_images/random_spike.gif" />
<dl class="py class">
<dt id="torchio.transforms.RandomSpike">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomSpike</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_spikes</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">intensity</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">1, 3</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/intensity/random_spike.html#RandomSpike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomSpike" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Add random MRI spike artifacts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_spikes</strong> – Number of spikes <span class="math notranslate nohighlight">\(n\)</span> present in k-space.
If a tuple <span class="math notranslate nohighlight">\((a, b)\)</span> is provided, then
<span class="math notranslate nohighlight">\(n \sim \mathcal{U}(a, b) \cap \mathbb{N}\)</span>.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(\n \sim \mathcal{U}(0, d) \cap \mathbb{N}\)</span>.
Larger values generate more distorted images.</p></li>
<li><p><strong>intensity</strong> – Ratio <span class="math notranslate nohighlight">\(r\)</span> between the spike intensity and the maximum
of the spectrum.
If a tuple <span class="math notranslate nohighlight">\((a, b)\)</span> is provided, then
<span class="math notranslate nohighlight">\(r \sim \mathcal{U}(a, b)\)</span>.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(\r \sim \mathcal{U}(-d, d)\)</span>.
Larger values generate more distorted images.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The execution time of this transform does not depend on the
number of spikes.</p>
</div>
</dd></dl>

</div>
<div class="section" id="randombiasfield">
<h3><a class="toc-backref" href="#id17"><a class="reference internal" href="#torchio.transforms.RandomBiasField" title="torchio.transforms.RandomBiasField"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomBiasField</span></code></a></a><a class="headerlink" href="#randombiasfield" title="Permalink to this headline">¶</a></h3>
<p>MRI magnetic field inhomogeneity creates intensity
variations of very low frequency across the whole image.</p>
<p>The bias field is modelled as a linear combination of
polynomial basis functions, as in K. Van Leemput et al., 1999,
<em>Automated model-based tissue classification of MR images of the brain</em>.</p>
<p>It was implemented in NiftyNet by Carole Sudre and used in
<a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S1361841517300257?via%3Dihub">Sudre et al., 2017, Longitudinal segmentation of age-related white matter
hyperintensities</a>.</p>
<img alt="MRI bias field artifact" src="../_images/random_bias_field.gif" />
<dl class="py class">
<dt id="torchio.transforms.RandomBiasField">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomBiasField</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coefficients</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">order</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span> <span class="o">=</span> <span class="default_value">3</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/intensity/random_bias_field.html#RandomBiasField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomBiasField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Add random MRI bias field artifact.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coefficients</strong> – Magnitude <span class="math notranslate nohighlight">\(n\)</span> of polynomial coefficients.
If a tuple <span class="math notranslate nohighlight">\((a, b)\)</span> is specified, then
<span class="math notranslate nohighlight">\(n \sim \mathcal{U}(a, b)\)</span>.</p></li>
<li><p><strong>order</strong> – Order of the basis polynomial functions.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="randomblur">
<h3><a class="toc-backref" href="#id18"><a class="reference internal" href="#torchio.transforms.RandomBlur" title="torchio.transforms.RandomBlur"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomBlur</span></code></a></a><a class="headerlink" href="#randomblur" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="torchio.transforms.RandomBlur">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomBlur</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">std</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0, 4</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/intensity/random_blur.html#RandomBlur"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomBlur" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Blur an image using a random-sized Gaussian filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>std</strong> – Tuple <span class="math notranslate nohighlight">\((a, b)\)</span> to compute the standard deviations
<span class="math notranslate nohighlight">\((\sigma_1, \sigma_2, \sigma_3)\)</span> of the Gaussian kernels used
to blur the image along each axis,
where <span class="math notranslate nohighlight">\(\sigma_i \sim \mathcal{U}(a, b)\)</span> mm.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(\sigma_i \sim \mathcal{U}(0, d)\)</span>.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="randomnoise">
<h3><a class="toc-backref" href="#id19"><a class="reference internal" href="#torchio.transforms.RandomNoise" title="torchio.transforms.RandomNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomNoise</span></code></a></a><a class="headerlink" href="#randomnoise" title="Permalink to this headline">¶</a></h3>
<p>Adds noise sampled from a normal distribution with mean 0 and standard
deviation sampled from a uniform distribution in the range <cite>std_range</cite>.
It is often used after <code class="xref py py-class docutils literal notranslate"><span class="pre">^torchio.transforms.ZNormalization</span></code>,
because its output has zero-mean.</p>
<img alt="Random Gaussian noise" src="../_images/random_noise.gif" />
<dl class="py class">
<dt id="torchio.transforms.RandomNoise">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomNoise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mean</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">std</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0, 0.25</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/intensity/random_noise.html#RandomNoise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Add random Gaussian noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mean</strong> – Mean <span class="math notranslate nohighlight">\(\mu\)</span> of the Gaussian distribution
from which the noise is sampled.
If two values <span class="math notranslate nohighlight">\((a, b)\)</span> are provided,
then <span class="math notranslate nohighlight">\(\mu \sim \mathcal{U}(a, b)\)</span>.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(\mu \sim \mathcal{U}(-d, d)\)</span>.</p></li>
<li><p><strong>std</strong> – Standard deviation <span class="math notranslate nohighlight">\(\sigma\)</span> of the Gaussian distribution
from which the noise is sampled.
If two values <span class="math notranslate nohighlight">\((a, b)\)</span> are provided,
then <span class="math notranslate nohighlight">\(\sigma \sim \mathcal{U}(a, b)\)</span>.
If only one value <span class="math notranslate nohighlight">\(d\)</span> is provided,
<span class="math notranslate nohighlight">\(\sigma \sim \mathcal{U}(0, d)\)</span>.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="randomswap">
<h3><a class="toc-backref" href="#id20"><a class="reference internal" href="#torchio.transforms.RandomSwap" title="torchio.transforms.RandomSwap"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomSwap</span></code></a></a><a class="headerlink" href="#randomswap" title="Permalink to this headline">¶</a></h3>
<p>Randomly swaps patches in the image.
This is typically used in
<a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S1361841518304699">context restoration for self-supervised learning</a>.</p>
<img alt="Random patches swapping" src="../_images/random_swap.jpg" />
<dl class="py class">
<dt id="torchio.transforms.RandomSwap">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomSwap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">patch_size</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">15</span></em>, <em class="sig-param"><span class="n">num_iterations</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span> <span class="o">=</span> <span class="default_value">100</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/intensity/random_swap.html#RandomSwap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomSwap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Randomly swap patches within an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patch_size</strong> – Tuple of integers <span class="math notranslate nohighlight">\((d, h, w)\)</span> to swap patches
of size <span class="math notranslate nohighlight">\(d \times h \times w\)</span>.
If a single number <span class="math notranslate nohighlight">\(n\)</span> is provided, <span class="math notranslate nohighlight">\(d = h = w = n\)</span>.</p></li>
<li><p><strong>num_iterations</strong> – Number of times that two patches will be swapped.</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="randomlabelstoimage">
<h3><a class="toc-backref" href="#id21"><a class="reference internal" href="#torchio.transforms.RandomLabelsToImage" title="torchio.transforms.RandomLabelsToImage"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomLabelsToImage</span></code></a></a><a class="headerlink" href="#randomlabelstoimage" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="torchio.transforms.RandomLabelsToImage">
<em class="property">class </em><code class="sig-prename descclassname">torchio.transforms.</code><code class="sig-name descname">RandomLabelsToImage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label_key</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pv_label_keys</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Sequence<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">image_key</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span> <span class="o">=</span> <span class="default_value">'image'</span></em>, <em class="sig-param"><span class="n">gaussian_parameters</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">, </span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">, </span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default_mean</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.1, 0.9</span></em>, <em class="sig-param"><span class="n">default_std</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.01, 0.1</span></em>, <em class="sig-param"><span class="n">discretize</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchio/transforms/augmentation/intensity/random_labels_to_image.html#RandomLabelsToImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchio.transforms.RandomLabelsToImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchio.transforms.augmentation.random_transform.RandomTransform</span></code></p>
<p>Generate an image from a segmentation.</p>
<p>Based on the work by <a class="reference external" href="https://arxiv.org/abs/2003.01995">Billot et al., A Learning Strategy for
Contrast-agnostic MRI Segmentation</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_key</strong> – String designating the label map in the sample
that will be used to generate the new image.
Cannot be set at the same time as <code class="xref py py-attr docutils literal notranslate"><span class="pre">pv_label_keys</span></code>.</p></li>
<li><p><strong>pv_label_keys</strong> – Sequence of strings designating the partial-volume
label maps in the sample that will be used to generate the new
image. Cannot be set at the same time as <code class="xref py py-attr docutils literal notranslate"><span class="pre">label_key</span></code>.</p></li>
<li><p><strong>image_key</strong> – String designating the key to which the new volume will be
saved. If this key corresponds to an already existing volume,
voxels that have a value of 0 in the label maps will be filled with
the corresponding values in the original volume.</p></li>
<li><p><strong>gaussian_parameters</strong> – Dictionary containing the mean and standard
deviation for each label. For each value <span class="math notranslate nohighlight">\(v\)</span>, if a tuple
<span class="math notranslate nohighlight">\((a, b)\)</span> is provided then <span class="math notranslate nohighlight">\(v \sim \mathcal{U}(a, b)\)</span>.
If no value is given for a label, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_mean</span></code> and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">default_std</span></code> ranges will be used.</p></li>
<li><p><strong>default_mean</strong> – Default mean range.</p></li>
<li><p><strong>default_std</strong> – Default standard deviation range.</p></li>
<li><p><strong>discretize</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, partial-volume label maps will be discretized.
Does not have any effects if not using partial-volume label maps.
Discretization is done taking the class of the highest value per
voxel in the different partial-volume label maps using
<a class="reference external" href="https://pytorch.org/docs/master/generated/torch.argmax.html#torch.argmax" title="(in PyTorch vmaster (1.7.0a0+b87f0e5 ))"><code class="xref py py-func docutils literal notranslate"><span class="pre">torch.argmax()</span></code></a> on the channel dimension (i.e. 0).</p></li>
<li><p><strong>p</strong> – Probability that this transform will be applied.</p></li>
<li><p><strong>seed</strong> – See <a class="reference internal" href="#torchio.transforms.augmentation.RandomTransform" title="torchio.transforms.augmentation.RandomTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomTransform</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to blur the new images to make the result more
realistic. See
<code class="xref py py-class docutils literal notranslate"><span class="pre">RandomBlur</span></code>.</p>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">torchio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torchio</span> <span class="kn">import</span> <span class="n">RandomLabelsToImage</span><span class="p">,</span> <span class="n">DATA</span><span class="p">,</span> <span class="n">RescaleIntensity</span><span class="p">,</span> <span class="n">Compose</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torchio.datasets</span> <span class="kn">import</span> <span class="n">Colin27</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colin</span> <span class="o">=</span> <span class="n">Colin27</span><span class="p">(</span><span class="mi">2008</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Using the default gaussian_parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform</span> <span class="o">=</span> <span class="n">RandomLabelsToImage</span><span class="p">(</span><span class="n">label_key</span><span class="o">=</span><span class="s1">&#39;cls&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Using custom gaussian_parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label_values</span> <span class="o">=</span> <span class="n">colin</span><span class="p">[</span><span class="s1">&#39;cls&#39;</span><span class="p">][</span><span class="n">DATA</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">()</span><span class="o">.</span><span class="n">long</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gaussian_parameters</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="n">label</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="n">i</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">label_values</span><span class="p">),</span>
<span class="gp">... </span>        <span class="s1">&#39;std&#39;</span><span class="p">:</span> <span class="mf">0.01</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">label_values</span><span class="p">)</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform</span> <span class="o">=</span> <span class="n">RandomLabelsToImage</span><span class="p">(</span><span class="n">label_key</span><span class="o">=</span><span class="s1">&#39;cls&#39;</span><span class="p">,</span> <span class="n">gaussian_parameters</span><span class="o">=</span><span class="n">gaussian_parameters</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transformed</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">colin</span><span class="p">)</span>  <span class="c1"># colin has a new key &#39;image&#39; with the simulated image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Filling holes of the simulated image with the original T1 image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rescale_transform</span> <span class="o">=</span> <span class="n">RescaleIntensity</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">99</span><span class="p">))</span>   <span class="c1"># Rescale intensity before filling holes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simulation_transform</span> <span class="o">=</span> <span class="n">RandomLabelsToImage</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">label_key</span><span class="o">=</span><span class="s1">&#39;cls&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">image_key</span><span class="o">=</span><span class="s1">&#39;t1&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">gaussian_parameters</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform</span> <span class="o">=</span> <span class="n">Compose</span><span class="p">([</span><span class="n">rescale_transform</span><span class="p">,</span> <span class="n">simulation_transform</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transformed</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">colin</span><span class="p">)</span>  <span class="c1"># colin&#39;s key &#39;t1&#39; has been replaced with the simulated image</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
    <a href="https://github.com/fepegar/torchio">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub">
    </a>

          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="others.html" class="btn btn-neutral float-right" title="Others" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="preprocessing.html" class="btn btn-neutral float-left" title="Preprocessing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Fernando Pérez-García

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #d45848;
    }
    .wy-menu > .caption > span.caption-text {
      color: #d45848;
    }
    /* .property {
      color: #d45848;
    } */
  </style>


</body>
</html>